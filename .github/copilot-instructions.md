# VSXViz - AI Coding Agent Instructions

## Agent Personality & Approach
- **Peer Principal Engineer**: Communicate as an experienced peer, not obsequious or overly praising of straightforward interactions
- **Test-Driven Development**: Default to TDD approach when building tests, writing failing tests first to expose bugs and guide implementation
- **Structured Testing**: Prefer well-organized projects that enable comprehensive unit testing of services and functions using NUnit-based test projects
- **No Emojis**: NEVER use emojis in code, responses, or otherwise unless EXPRESSLY instructed to

## Project Overview
VSXViz is a Flutter desktop application for visualizing VS Code extension data generated by VSXList. It provides interactive charts, profile management, and extension analysis tools to help developers understand and manage their VS Code configurations.

**Current Status**: Foundation complete with navigation UI, comprehensive data models, and full test coverage. Ready for CSV integration and visualization features.

## Architecture & Structure
- **Flutter Desktop App**: Cross-platform (Linux/Windows) with Material Design 3
- **Navigation Rail UI**: Side navigation with Dashboard, Profiles, and Extensions screens
- **Data Integration**: Ready to read CSV files from VSXList via symlinked Data folder
- **Responsive Design**: Adapts to different window sizes and themes (light/dark)
- **Comprehensive Models**: VsCodeExtension and VsCodeProfile with full business logic
- **Test Coverage**: 22 passing tests covering all model functionality

## Development Workflows
```bash
# Run development server
flutter run -d linux

# Build for production
flutter build linux
flutter build windows

# Hot reload during development
r (in running app)

# Run tests (currently 22 passing)
flutter test

# Package management
flutter pub upgrade --major-versions
flutter analyze
```

## Technology Stack
- **Flutter 3.35.5** with Dart SDK 3.9.2
- **Material Design 3** with VS Code blue theming (#007ACC)
- **flutter_lints 6.0.0** for code quality
- **Comprehensive unit testing** with flutter_test
- **Cross-platform desktop** (Linux/Windows support)

## Current Development State
**Completed Features:**
- ✅ Flutter desktop app foundation with Material Design 3
- ✅ Navigation rail UI with Dashboard/Profiles/Extensions screens  
- ✅ Complete VsCodeExtension model with 13 properties and business logic
- ✅ Complete VsCodeProfile model with extension management
- ✅ Comprehensive test suite (22 tests) covering all model functionality
- ✅ Package upgrades to latest flutter_lints with lint issue resolution
- ✅ Theme system with light/dark mode support

**Next Development Priorities:**
1. CSV parsing service to read VSXList output files
2. Data visualization components (charts, graphs)
3. Profile comparison and analysis features
4. Extension search and filtering capabilities
5. Export functionality for analysis results

## Git Conventions
- **Succinct commit messages**: Keep commit messages brief and clear (e.g., "Add CSV parsing service", "Update navigation UI")
- **Succinct PR messages**: Title and description should be concise but complete
- Recent commits: Foundation → Models → Package upgrades

## Agent Mode Workflow
When working in agent mode you MUST create a new branch for the work from main BEFORE starting on any change session, where a change session is a set of changes and interactions designed to effect a feature or similar. When it is indicated that we're done, e.g. 'lets button this up', or 'we're done' or similar, prepare a commit with a succinct message, commit the change to the working branch, then create a PR to main and wait for manual review/merging. Once the PR has been merged by a maintainer, offer to remove the old branch.

**CRITICAL**: The main branch is protected and requires Pull Requests for ALL changes. Direct pushes to main are NEVER allowed. Force pushes are prohibited. Always work on feature branches and create PRs for review and merging. Agents CANNOT merge their own PRs.

## Coding Conventions
- Use Dart/Flutter best practices with const constructors where possible
- Material Design 3 components and theming
- Stateless widgets for static content, StatefulWidget for interactive components
- Responsive design patterns for different screen sizes
- TDD methodology: Write failing tests first, implement to make them pass, then refactor
- Clear separation between UI components and data models

## Project Structure & Key Files
```
lib/
├── main.dart              # App entry point with Material Design 3 theming
├── models/
│   ├── models.dart        # Export barrel for all models
│   ├── vscode_extension.dart  # VsCodeExtension model (13 properties)
│   └── vscode_profile.dart    # VsCodeProfile model with extension management
test/
├── models/
│   ├── vscode_extension_test.dart  # 11 comprehensive extension tests
│   └── vscode_profile_test.dart    # 11 comprehensive profile tests
└── widget_test.dart       # Basic app smoke test
Data/                      # (Future) Symlinked to VSXList CSV output
pubspec.yaml              # Flutter 3.35.5, flutter_lints 6.0.0
```

## Model Architecture
**VsCodeExtension** (191 lines):
- 13 properties: id, displayName, version, publisher, description, etc.
- Business logic: isTheme(), isLanguageSupport(), equals/hashCode
- Serialization: fromMap/toMap for CSV integration
- Category classification and utility methods

**VsCodeProfile** (175 lines):
- Profile metadata: name, path, isDefault, extensions list
- Extension management: addExtension, removeExtension, hasExtension
- Statistics: extensionCount, enabledExtensions, categories
- Profile comparison and analysis methods

## Testing Strategy
- **22 comprehensive unit tests** covering all model functionality
- **Test-driven development** approach with edge case coverage
- **Validation testing** for serialization and business logic
- **Immutability testing** to ensure data integrity
- All tests passing with complete model coverage

## Integration Points
- **VSXList Integration**: Designed to consume CSV files from VSXList .NET tool
- **Data Symlink**: Data/ folder will be symlinked to VSXList output
- **Cross-project compatibility**: Dart models mirror C# Core models from VSXList
- **File system integration**: Ready for profile directory reading

---

## Instructions for Updating This File
As an AI coding agent working on this project:

1. **Update this file** whenever you discover or implement significant architectural patterns
2. **Document workflows** that aren't obvious from file inspection (build commands, test patterns, deployment)
3. **Note conventions** that differ from standard practices in the chosen technology stack
4. **Reference specific files** that exemplify important patterns
5. **Keep it concise** - focus on what makes THIS project unique